<html>
    <head>
        <title>Rich Text Editing Demo</title>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
        <script>

$(document).ready(function(){
   $('#stuff').html("hi some text to correct");
    document.getElementById('edit').contentWindow.document.designMode = "on";

    if (document.addEventListener) {
        document.getElementById("edit").contentWindow.document.addEventListener("keypress", setcolor, true);
    } else if (document.attachEvent) {
        document.getElementById("edit").contentWindow.document.attachEvent("keypress", setcolor, true);
    }

    $('#doneButton').click(function(){
        $('#stuff').html($('#edit').contents().find('body').html());
        $('#stuff').show();
        $('#edit').hide();
        $('#doneButton').hide();
        $('#editButton').show();
    });

    $('#editButton').click(function(){
        $('#edit').contents().find('body').html($('#stuff').html());
        $('#stuff').hide();
        $('#edit').show();
        $('#doneButton').show();
        $('#editButton').hide();
        document.getElementById('edit').contentWindow.document.execCommand("forecolor", false, 'red');
        document.getElementById("edit").contentWindow.focus();
    });
});

function setcolor(){
    document.getElementById('edit').contentWindow.document.execCommand("forecolor", false, 'red');
};

function start(){

};

    </script>
    </head>
    <body onLoad="start()">
        <div id="stuff"></div>
        <iframe id="edit" width="100%" height="200px" style='display: none'></iframe>
        <button id="doneButton" style='display: none'>Done</button>
        <button id="editButton">Correct</button>
    </body>
</html>
